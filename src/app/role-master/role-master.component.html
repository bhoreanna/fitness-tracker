
<section class="module-form">
  <div style="align-content: center ;padding-left: 550px">
      <h1> ROLE FORM</h1>
  </div>
  <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="10px" #f=ngForm (ngSubmit)="onSubmit(f)">
      <mat-form-field>
          <input type="text" 
          matInput placeholder="roleId" 
          ngModel name="roleId"
          required
          [(ngModel)]="roleMaster.roleId"
          #roleIdInput="ngModel">
          <mat-error *ngIf="roleIdInput.hasError('required')">Field Must Not Be Empty</mat-error>

      </mat-form-field>


      <mat-form-field>
          <input type="text" 
          matInput placeholder="roleName" 
          ngModel name="roleName"
          required
          [(ngModel)]="roleMaster.roleName"
          #roleNameInput="ngModel">
          <mat-error *ngIf="roleNameInput.hasError('required')">Field Must Not Be Empty</mat-error>

      </mat-form-field>


      <mat-form-field>
          <input type="text" 
          matInput placeholder="CreatedBy" 
          ngModel name="createdBy"
          required
          [(ngModel)]="roleMaster.createdBy"
          #createdByInput="ngModel">
          <mat-error *ngIf="createdByInput.hasError('required')">Field Must Not Be Empty</mat-error>

      </mat-form-field>

      
      <mat-form-field>
          <input matInput
          [matDatepicker]="picker" 
          placeholder="Created Date"
          ngModel 
          name="createdDate"
          [(ngModel)]="roleMaster.createdDate"

          required
          >
      



          
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> 
           <mat-datepicker #picker></mat-datepicker> 
        </mat-form-field>



        <mat-form-field>
              <mat-label>ROLE STATUS</mat-label>
              <select matNativeControl required
              
              ngModel name="userRoleStatus"
              required
              [(ngModel)]="roleMaster.userRoleStatus"
              #userRoleStatusInput="ngModel">
              <mat-error *ngIf="userRoleStatusInput.hasError('required')">Field Must Not Be Empty</mat-error>
              >
                <option value="active">ACTIVE</option>
                <option value="inActive">INACTIVE</option>
                
              </select>
            </mat-form-field>
<div *ngIf="!flag">
    <button type="submit" mat-raised-button color="primary" [disabled]="f.invalid">SUBMIT</button>

</div>



  </form>
  <button  mat-raised-button color="primary" (click)="refresh()">REFRESH</button>

</section>


<br>
<br>





<div class="container">

  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

    <ng-container matColumnDef="moduleUid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Module UID </th>
      <td mat-cell *matCellDef="let element"> {{element.moduleUid}} </td>
    </ng-container>


    <!-- Checkbox Column -->
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Module UID </th>
 
      <td mat-cell *matCellDef="let row">
        <mat-checkbox 
        
           [(ngModel)]="row.select"
          
          >
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="moduleId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Module ID </th>
      <td mat-cell *matCellDef="let element"> {{element.moduleId}} </td>
    </ng-container>




    <ng-container matColumnDef="moduleName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Module Name </th>
      <!-- <td mat-cell *matCellDef="let element"> {{element.moduleName}} </td> -->
      <td mat-cell *matCellDef="let element"> <input matInput  [(ngModel)]="element.moduleName"> </td>

    </ng-container>

    <ng-container matColumnDef="createdBy">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Created BY </th>
      <!-- <td mat-cell *matCellDef="let element"> {{element.createdBy}} </td> -->
      <td mat-cell *matCellDef="let element"> <input matInput  [(ngModel)]="element.createdBy"> </td>

    </ng-container>


    <ng-container matColumnDef="moduleStatus">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Module Status </th>
      <td mat-cell *matCellDef="let element"> {{element.moduleStatus}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <mat-header-cell *matHeaderCellDef>action</mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button mat-icon-button color="warn" (click)="onDelete(row.moduleUid)">
          <mat-icon>delete_outline</mat-icon>
        </button>

      </mat-cell>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>


  <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="5" showFirstLastButtons></mat-paginator> -->

</div>




 <ul>
    <li *ngFor="let moduleMaster of moduleMasterList; let i = index">
      {{i}} {{moduleMaster.select}}
    </li>
  </ul> 